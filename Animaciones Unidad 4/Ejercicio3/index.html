<!DOCTYPE html>
<html>
    <head>
        <title>Ejercicio 3</title>
        <meta charset="utf-8">
        <link rel="stylesheet" type="text/css" href="./style.css">
        <script>
            var contadorGlobal = 0;
            var contadorDisappear = 1;
            function fadeIn(nombreClase,tiempo)
            {
                contadorGlobal = 0;
                var componente = document.getElementsByClassName(nombreClase)[0];
                componente.style.opacity = 0;
                var y = setInterval( function() { appear(componente,tiempo,y); }, 1000 );
            }

            function appear(componente,tiempo,y)
            {
                var contador = 1 / tiempo;
                if(componente.style.opacity < 1)
                {
                    contadorGlobal = contadorGlobal + contador;
                    componente.style.opacity = contadorGlobal;
                }else{
                    clearInterval(y);
                    contadorGlobal = 0;
                }
            }

            function fadeOut(nombreClase,tiempo)
            {
                contadorDisappear = 1;
                var componente = document.getElementsByClassName(nombreClase)[0];
                componente.style.opacity = 1;
                var y = setInterval( function() { disappear(componente,tiempo,y); }, 1000 );
            }
            function disappear(componente,tiempo,y)
            {
                var contador = 1 / tiempo;
                if(componente.style.opacity > 0)
                {
                    contadorDisappear = contadorDisappear - contador;
                    componente.style.opacity = contadorDisappear;
                }else{
                    clearInterval(y);
                    contadorDisappear = 1;
                }
            }
        </script>
    </head>
    <body>
        <button onclick="fadeIn('hello',3)">Mostrar</button> <button onclick="fadeOut('hello',3)">Ocultar</button>
        <p class="hello">Texto de prueba..</p>
    </body>
</html>